
import React, { useState, useRef } from 'react';
import BusanMap from './components/BusanMap';
import LoadingOverlay from './components/LoadingOverlay';
import DistrictDetail from './components/DistrictDetail';
import UsefulServices from './components/UsefulServices';
import FestivalSection from './components/FestivalSection';
import ExhibitionSection from './components/ExhibitionSection';
import CourseSection from './components/CourseSection';
import { fetchDistrictInsight } from './services/gemini';
import { MultiLangData, Language } from './types';
import { BUSAN_DISTRICTS } from './constants';

const App: React.FC = () => {
  const [loading, setLoading] = useState(false);
  const [lang, setLang] = useState<Language>('ko');
  const [selectedDistrict, setSelectedDistrict] = useState<{ko: string, en: string} | null>(null);
  const [reportData, setReportData] = useState<MultiLangData | null>(null);
  
  const cache = useRef<Record<string, MultiLangData>>({});

  const handleDistrictClick = async (districtId: string) => {
    const dist = BUSAN_DISTRICTS.find(d => d.id === districtId);
    if (!dist) {
      console.error("District not found:", districtId);
      return;
    }

    const names = { ko: dist.nameKo, en: dist.nameEn };
    
    if (cache.current[dist.id]) {
      setSelectedDistrict(names);
      setReportData(cache.current[dist.id]);
      window.scrollTo({ top: 0, behavior: 'smooth' });
      return;
    }

    setLoading(true);
    setSelectedDistrict(names);
    
    try {
      const data = await fetchDistrictInsight(dist.nameKo);
      cache.current[dist.id] = data;
      setReportData(data);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    } catch (err) {
      console.error("AI Analysis Error:", err);
      alert(lang === 'ko' ? "ë°ì´í„°ë¥¼ ë¶„ì„í•˜ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”." : "An error occurred while analyzing data. Please try again.");
      setLoading(false);
      setSelectedDistrict(null);
    } finally {
      setLoading(false);
    }
  };

  const handleBackToMap = () => {
    setReportData(null);
    setSelectedDistrict(null);
    window.scrollTo({ top: 0, behavior: 'smooth' });
  };

  return (
    <div className="min-h-screen relative bg-white pb-20 md:pb-32 text-slate-900 selection:bg-blue-100 transition-colors duration-500 overflow-x-hidden">
      {/* Language Switcher */}
      <div className="fixed top-6 right-6 md:top-10 md:right-10 z-[400] flex items-center bg-white/95 backdrop-blur-xl p-1 rounded-full shadow-2xl border border-slate-100">
        <button 
          onClick={() => setLang('ko')}
          className={`px-5 md:px-8 py-2 md:py-3 rounded-full text-[10px] md:text-[13px] font-black tracking-widest transition-all ${lang === 'ko' ? 'bg-slate-900 text-white shadow-lg' : 'text-slate-400 hover:text-slate-600'}`}
        >
          KR
        </button>
        <button 
          onClick={() => setLang('en')}
          className={`px-5 md:px-8 py-2 md:py-3 rounded-full text-[10px] md:text-[13px] font-black tracking-widest transition-all ${lang === 'en' ? 'bg-slate-900 text-white shadow-lg' : 'text-slate-400 hover:text-slate-600'}`}
        >
          EN
        </button>
      </div>

      {!reportData && !loading && (
        <div className="w-full">
          {/* Header Section with Wave */}
          <header className="relative pt-24 md:pt-48 pb-24 md:pb-52 px-6 flex flex-col items-center text-center overflow-hidden mb-32 md:mb-52">
            <div className="absolute bottom-0 left-0 w-full opacity-10 pointer-events-none translate-y-10">
              <svg viewBox="0 0 1440 320" className="w-full h-auto scale-150 origin-bottom">
                <path fill="#2563eb" fillOpacity="1" d="M0,160L48,176C96,192,192,224,288,213.3C384,203,480,149,576,144C672,139,768,181,864,197.3C960,213,1056,203,1152,181.3C1248,160,1344,128,1392,112L1440,96L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path>
              </svg>
            </div>

            <div className="max-w-[1200px] animate-in fade-in slide-in-from-top-4 duration-1000 relative z-10">
              <div className="inline-flex items-center gap-3 px-5 py-2 md:px-6 md:py-3 bg-slate-900 text-white text-[9px] md:text-[12px] font-black rounded-full mb-10 md:mb-16 tracking-[0.4em] md:tracking-[0.6em] uppercase shadow-2xl">
                  <span>âš“</span>
                  {lang === 'ko' ? 'ë¶€ì‚°ì˜ ê°€ì¹˜ë¥¼ ì¦ëª…í•˜ëŠ” ê¸°ë¡' : 'PROVING THE VALUE OF BUSAN'}
                  <span>âš“</span>
              </div>
              <h1 className="text-5xl md:text-8xl lg:text-9xl font-black text-slate-900 tracking-tighter leading-[1.1] md:leading-[0.8] mb-10 md:mb-20 break-keep">
                {lang === 'ko' ? <>ë¶€ì‚° ğŸŒŠ<br/><span className="text-blue-600">ì˜¤ë¦¬ì§€ë„</span></> : <>busan ğŸŒŠ<br/><span className="text-blue-600">original</span></>}
              </h1>
              <p className="text-lg md:text-2xl lg:text-4xl text-slate-400 font-bold max-w-4xl mx-auto leading-relaxed px-4 opacity-80">
                {lang === 'ko' 
                  ? 'ìˆ˜ì‹ì–´ì˜ ê±°í’ˆì´ ê±·íŒ ìë¦¬, ê±°ì¹œ íŒŒë„ê°€ ë¹šì–´ë‚¸ ì´ ë„ì‹œì˜ ê°€ì¥ íˆ¬ëª…í•œ ë§¥ë°•ì„ ê¸°ë¡í•©ë‹ˆë‹¤.' 
                  : 'Where the bubbles of adjectives have cleared, we record the most transparent pulse of this city shaped by rough waves.'}
              </p>
            </div>
          </header>

          {/* Spacing to Essential Utilities Section */}
          <UsefulServices lang={lang} />
          <FestivalSection lang={lang} />

          <section className="max-w-[1400px] mx-auto py-16 md:py-32 px-6 md:px-12">
            <div className="flex flex-col md:flex-row justify-between items-start md:items-end mb-16 gap-6">
               <div className="max-w-3xl">
                  <h2 className="text-2xl md:text-5xl font-black tracking-tighter mb-4 leading-none">
                    {lang === 'ko' ? 'ì§€ë„ë¡œ ë§ˆì£¼í•˜ëŠ” êµ¬ì—­ì˜ ë³¸ì§ˆ â›µ' : 'Encountering the Essence on the Map â›µ'}
                  </h2>
                  <p className="text-slate-400 font-bold text-sm md:text-lg">
                    {lang === 'ko' ? 'ê²½ê³„ë¥¼ ë„˜ì–´ ê° êµ¬ì—­ì´ í’ˆê³  ìˆëŠ” ë…ë³´ì ì¸ ê°€ì¹˜ë¥¼ í™•ì¸í•˜ì„¸ìš”' : 'Cross the boundaries to discover the unique values held by each district'}
                  </p>
               </div>
            </div>
            <div className="bg-slate-50/50 p-4 md:p-16 lg:p-24 rounded-[60px] md:rounded-[100px] border border-slate-100 shadow-inner overflow-hidden relative">
              <BusanMap onDistrictClick={handleDistrictClick} lang={lang} />
            </div>
          </section>

          <CourseSection lang={lang} />
          <ExhibitionSection lang={lang} />
        </div>
      )}

      <main className="w-full">
        {loading ? (
          <LoadingOverlay districtName={selectedDistrict ? selectedDistrict[lang] : ""} lang={lang} />
        ) : reportData && (
          <DistrictDetail 
            data={reportData[lang]} 
            sources={reportData.sources}
            lang={lang} 
            onBack={handleBackToMap} 
          />
        )}
      </main>
    </div>
  );
};

export default App;

import React from 'react';
import { BUSAN_DISTRICTS } from '../constants';
import { Language } from '../types';

interface BusanMapProps {
  onDistrictClick: (id: string) => void;
  lang: Language;
}

const BusanMap: React.FC<BusanMapProps> = ({ onDistrictClick, lang }) => {
  return (
    <div className="w-full max-w-4xl mx-auto relative overflow-hidden group/map">
      <svg viewBox="0 0 1000 1000" className="w-full h-auto drop-shadow-xl relative z-0">
        <defs>
          <filter id="glow" x="-20%" y="-20%" width="140%" height="140%">
            <feGaussianBlur stdDeviation="15" result="blur" />
            <feComposite in="SourceGraphic" in2="blur" operator="over" />
          </filter>
          <linearGradient id="nodeGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" stopColor="#ffffff" />
            <stop offset="100%" stopColor="#f8fafc" />
          </linearGradient>
        </defs>

        <path 
          d="M200,600 L380,550 M380,550 L520,560 M520,560 L680,580 M680,580 L780,520 M780,520 L850,300" 
          stroke="#cbd5e1" 
          strokeWidth="1.5" 
          strokeDasharray="8,8"
          fill="none" 
          className="opacity-40"
        />
        
        {BUSAN_DISTRICTS.map((dist) => (
          <g 
            key={dist.id} 
            className="group cursor-pointer outline-none"
            onClick={(e) => {
              e.stopPropagation();
              onDistrictClick(dist.id); // ID ì§ì ‘ ì „ë‹¬ë¡œ ì˜¤ë¥˜ ë°©ì§€
            }}
          >
            <circle
              cx={dist.x}
              cy={dist.y}
              r={dist.size + 15}
              className="fill-blue-400/0 transition-all duration-700 group-hover:fill-blue-400/20"
              filter="url(#glow)"
            />
            <circle
              cx={dist.x}
              cy={dist.y}
              r={dist.size}
              className="fill-white/90 stroke-slate-200 stroke-1 transition-all duration-500 group-hover:stroke-blue-400 group-hover:scale-105"
              style={{ transformOrigin: `${dist.x}px ${dist.y}px`, backdropFilter: 'blur(4px)' }}
            />
            <circle
              cx={dist.x}
              cy={dist.y}
              r={dist.size - 8}
              fill="url(#nodeGradient)"
              className="stroke-slate-100 stroke-1 transition-all duration-300 group-hover:fill-blue-600 group-hover:stroke-blue-500"
              style={{ transformOrigin: `${dist.x}px ${dist.y}px` }}
            />
            <text
              x={dist.x}
              y={dist.y}
              className="text-[25px] md:text-[32px] font-black fill-slate-500 pointer-events-none group-hover:fill-white transition-all duration-300 tracking-tighter"
              textAnchor="middle"
              dominantBaseline="middle"
            >
              {lang === 'ko' ? dist.nameKo : dist.nameEn}
            </text>
          </g>
        ))}
      </svg>
    </div>
  );
};

export default BusanMap;

import React, { useState } from 'react';
import { Language } from '../types';

interface CourseSectionProps {
  lang: Language;
}

interface SpotDetail {
  name: string;
  desc: string;
}

interface CourseDetail {
  ko: { 
    title: string; 
    tag: string; 
    desc: string;
    spots: SpotDetail[];
    proTip: string;
    duration: string;
    transport: string;
  };
  en: { 
    title: string; 
    tag: string; 
    desc: string;
    spots: SpotDetail[];
    proTip: string;
    duration: string;
    transport: string;
  };
  color: string;
  icon: string;
}

const COURSES: CourseDetail[] = [
  {
    ko: { 
      title: 'K-í‘¸ë“œ ì±Œë¦°ì§€ ì½”ìŠ¤', 
      tag: 'Foodie', 
      desc: 'ë¹„í”„ê´‘ì¥ í˜¸ë–¡ë¶€í„° ë¯¸ìŠë­ ì‹ë‹¹ê¹Œì§€, í•œêµ­ì˜ ë§¤ìš´ë§›ê³¼ ì •ì„ ëŠë‚ë‹ˆë‹¤.',
      spots: [
        { name: 'BIFF ê´‘ì¥', desc: 'ë¶€ì‚° ê¸¸ê±°ë¦¬ ìŒì‹ ë¬¸í™”ì˜ ë°œìƒì§€ì´ì ì”¨ì•—í˜¸ë–¡ì˜ ì„±ì§€ì…ë‹ˆë‹¤.' },
        { name: 'ìê°ˆì¹˜ ì‹œì¥', desc: 'í™œê¸° ë„˜ì¹˜ëŠ” í•œêµ­ ìµœëŒ€ ê·œëª¨ì˜ ìˆ˜ì‚°ì‹œì¥ìœ¼ë¡œ ì‹±ì‹±í•œ íšŒë¥¼ ì¦ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.' },
        { name: 'ë‚¨í¬ë™ í¬ì¥ë§ˆì°¨', desc: 'ë°¤ì´ë©´ í¼ì³ì§€ëŠ” í¬ì¥ë§ˆì°¨ ê±°ë¦¬ì—ì„œ ë¶€ì‚°ì˜ ë‚­ë§Œì ì¸ ë°¤ì„ ê²½í—˜í•˜ì„¸ìš”.' }
      ],
      proTip: 'ì”¨ì•—í˜¸ë–¡ì€ ì¤„ì´ ê¸¸ì–´ë„ ê¸ˆë°© ì¤„ì–´ë“­ë‹ˆë‹¤. í¬ì¥ë§ˆì°¨ëŠ” í˜„ê¸ˆì´ë‚˜ ê³„ì¢Œì´ì²´ê°€ í¸ë¦¬í•´ìš”!',
      duration: 'ì•½ 4~5ì‹œê°„',
      transport: 'ì§€í•˜ì²  1í˜¸ì„  ìê°ˆì¹˜ì—­/ë‚¨í¬ì—­'
    },
    en: { 
      title: 'K-Food Challenge', 
      tag: 'Foodie', 
      desc: 'From street Hotteok to Michelin stars, taste the real Korea.',
      spots: [
        { name: 'BIFF Square', desc: 'The birthplace of street food culture and the mecca of Seed Hotteok.' },
        { name: 'Jagalchi Market', desc: "Korea's largest seafood market filled with energy and fresh sashimi." },
        { name: 'Nampo-dong Stalls', desc: 'Experience the romantic night of Busan at the street food tent area.' }
      ],
      proTip: 'Seed Hotteok lines move fast. Street stalls prefer cash or bank transfers.',
      duration: '4-5 Hours',
      transport: 'Metro Line 1 (Jagalchi/Nampo Station)'
    },
    color: 'bg-orange-600',
    icon: 'ğŸ¥˜'
  },
  {
    ko: { 
      title: 'ë¸”ë£¨ íë§ ë°”ë‹¤ ì‚°ì±…', 
      tag: 'Relax', 
      desc: 'í•´ìš´ëŒ€ ë¸”ë£¨ë¼ì¸íŒŒí¬ì™€ í•´ë³€ ì—´ì°¨ë¥¼ íƒ€ê³  ì¦ê¸°ëŠ” ëì—†ëŠ” ìˆ˜í‰ì„  ì—¬í–‰.',
      spots: [
        { name: 'í•´ìš´ëŒ€ í•´ìˆ˜ìš•ì¥', desc: 'ë¶€ì‚°ì„ ìƒì§•í•˜ëŠ” ë“œë„“ì€ ë°±ì‚¬ì¥ê³¼ ì‹œì›í•œ ë°”ë‹¤ë¥¼ ë§Œë½í•˜ì„¸ìš”.' },
        { name: 'ë¯¸í¬ ì² ê¸¸', desc: 'ì˜› í•´ì•ˆ ê¸°ì°»ê¸¸ì„ ë”°ë¼ ê±·ëŠ” ì ˆê²½ ì‚°ì±…ë¡œë¡œ ì¸ìƒìƒ· ëª…ì†Œì…ë‹ˆë‹¤.' },
        { name: 'ì²­ì‚¬í¬ ë‹¤ë¦¿ëŒ ì „ë§ëŒ€', desc: 'í‘¸ë¥¸ íŒŒë„ ìœ„ íˆ¬ëª…í•œ ë°”ë‹¥ì´ ì£¼ëŠ” ìŠ¤ë¦´ê³¼ íƒ íŠ¸ì¸ ì¡°ë§ì´ ì¼í’ˆì…ë‹ˆë‹¤.' }
      ],
      proTip: 'í•´ë³€ì—´ì°¨ëŠ” ì¼ëª° 1ì‹œê°„ ì „ì— íƒ€ëŠ” ê²ƒì„ ê°•ë ¥ ì¶”ì²œí•©ë‹ˆë‹¤. ì˜ˆì•½ì€ í•„ìˆ˜ì˜ˆìš”!',
      duration: 'ì•½ 3ì‹œê°„',
      transport: 'í•´ìš´ëŒ€ ë¸”ë£¨ë¼ì¸íŒŒí¬'
    },
    en: { 
      title: 'Ocean View Healing', 
      tag: 'Relax', 
      desc: 'A serene journey along the coast with endless horizons and sea breezes.',
      spots: [
        { name: 'Haeundae Beach', desc: "Busan's iconic beach with a wide horizon and refreshing breeze." },
        { name: 'Mipo Railway', desc: 'A scenic walking trail along the old coastal railroad, perfect for photos.' },
        { name: 'Cheongsapo Skywalk', desc: 'A transparent floor above the crashing blue waves with stunning views.' }
      ],
      proTip: 'Book the sunset train 1 hour before golden hour. Reservations are essential.',
      duration: '3 Hours',
      transport: 'Haeundae Blue Line Park'
    },
    color: 'bg-blue-600',
    icon: 'ğŸŒŠ'
  },
  {
    ko: { 
      title: 'MZ í™ í”Œë ˆì´ìŠ¤ íˆ¬ì–´', 
      tag: 'Trendy', 
      desc: 'ì „í¬ ì¹´í˜ê±°ë¦¬ì˜ ê°ì„±ê³¼ ê´‘ì•ˆë¦¬ì˜ í™”ë ¤í•œ ì•¼ê²½ì„ ë‹´ëŠ” ì¸ìŠ¤íƒ€ ëª…ì†Œ íˆ¬ì–´.',
      spots: [
        { name: 'ì „í¬ ì¹´í˜ê±°ë¦¬', desc: 'ê³µêµ¬ ìƒê°€ì—ì„œ íŠ¸ë Œë””í•œ ì¹´í˜ ê±°ë¦¬ë¡œ ë³€ì‹ í•œ ê°ì„± ê°€ë“í•œ ê³¨ëª©ì…ë‹ˆë‹¤.' },
        { name: 'ê´‘ì•ˆë¦¬ í•´ìˆ˜ìš•ì¥', desc: 'ê´‘ì•ˆëŒ€êµ ë·°ì™€ í™”ë ¤í•œ ì•¼ê²½, ê·¸ë¦¬ê³  ë“œë¡ ì‡¼ê°€ í¼ì³ì§€ëŠ” ëª…ì†Œì…ë‹ˆë‹¤.' },
        { name: 'ë¯¼ë½ ìˆ˜ë³€ê³µì›', desc: 'ë…¸ì„ì„ ë³´ë©° ê°€ë³ê²Œ ì‚°ì±…í•˜ê±°ë‚˜ ë¡œì»¬ ê°ì„±ì„ ëŠë¼ê¸° ì¢‹ì€ ì‰¼í„°ì…ë‹ˆë‹¤.' }
      ],
      proTip: 'ì „í¬ë™ ì¹´í˜ë“¤ì€ ì›”ìš”ì¼ íœ´ë¬´ê°€ ë§ìœ¼ë‹ˆ í™•ì¸ í•„ìˆ˜! ê´‘ì•ˆë¦¬ ë“œë¡ ì‡¼ ì‹œê°„ë„ ê¼­ ì²´í¬í•˜ì„¸ìš”.',
      duration: 'ì•½ 6ì‹œê°„',
      transport: 'ì§€í•˜ì²  2í˜¸ì„  ì „í¬ì—­/ê´‘ì•ˆì—­'
    },
    en: { 
      title: 'MZ Hipster Tour', 
      tag: 'Trendy', 
      desc: 'Instagrammable spots from Jeonpo cafe streets to Gwangalli night views.',
      spots: [
        { name: 'Jeonpo Cafe Street', desc: 'Trendy cafes filled with unique vibes in a transformed industrial alley.' },
        { name: 'Gwangalli Beach', desc: 'The best spot for the bridge view, night lights, and the drone show.' },
        { name: 'Millak Waterside Park', desc: 'A local favorite spot for sunset and enjoying the ocean breeze.' }
      ],
      proTip: 'Many Jeonpo cafes close on Mondays. Check the Gwangalli drone show schedule!',
      duration: '6 Hours',
      transport: 'Metro Line 2 (Jeonpo/Gwangalli Station)'
    },
    color: 'bg-purple-600',
    icon: 'âœ¨'
  }
];

const CourseSection: React.FC<CourseSectionProps> = ({ lang }) => {
  const [selectedIdx, setSelectedIdx] = useState<number | null>(null);

  const ui = {
    sectionTitle: lang === 'ko' ? 'ì¶”ì²œ ì—¬í–‰ í…Œë§ˆ ğŸŒŠ' : 'Top Travel Themes ğŸŒŠ',
    guideHint: lang === 'ko' ? 'í´ë¦­í•˜ì—¬ ìƒì„¸ ì •ë³´ ë³´ê¸°' : 'Click to see details',
    close: lang === 'ko' ? 'ë‹«ê¸°' : 'Close',
    spots: lang === 'ko' ? 'ë°©ë¬¸ ìŠ¤íŒŸ ìƒì„¸ (í´ë¦­ ì‹œ ì§€ë„ ì´ë™) ğŸ“' : 'Spot Details (Click for Map) ğŸ“',
    proTip: lang === 'ko' ? 'í˜„ì§€ ì „ë¬¸ê°€ ê¿€íŒ âš“' : 'Local Pro Tip âš“',
    duration: lang === 'ko' ? 'ì˜ˆìƒ ì†Œìš” ì‹œê°„' : 'Estimated Duration',
    transport: lang === 'ko' ? 'ì¶”ì²œ êµí†µìˆ˜ë‹¨' : 'Recommended Transit',
  };

  const selectedCourse = selectedIdx !== null ? COURSES[selectedIdx] : null;

  const getGoogleMapUrl = (name: string) => {
    // ì¿¼ë¦¬ ì •í™•ë„ë¥¼ ë†’ì´ê¸° ìœ„í•´ 'Busan' í‚¤ì›Œë“œë¥¼ ê°•ë ¥ ê²°í•©
    const query = encodeURIComponent(`${name} Busan`);
    return `https://www.google.com/maps/search/?api=1&query=${query}`;
  };

  return (
    <div className="max-w-5xl mx-auto mb-40 px-4 relative">
      <div className="absolute top-0 right-0 -z-10 opacity-5 pointer-events-none">
        <svg width="400" height="400" viewBox="0 0 400 400">
          <path d="M0,100 C100,50 200,150 400,100 L400,400 L0,400 Z" fill="#2563eb" />
        </svg>
      </div>

      <div className="flex items-center gap-6 mb-12">
        <h2 className="text-[11px] font-black text-slate-400 uppercase tracking-[0.5em] whitespace-nowrap flex items-center gap-2">
          {ui.sectionTitle}
        </h2>
        <div className="h-px w-full bg-slate-100"></div>
      </div>
      
      <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
        {COURSES.map((c, i) => (
          <div 
            key={i} 
            onClick={() => setSelectedIdx(i)}
            className="group relative p-10 bg-slate-900 rounded-[50px] shadow-xl hover:shadow-[0_30px_60px_rgba(37,99,235,0.2)] hover:scale-[1.02] transition-all duration-500 cursor-pointer overflow-hidden flex flex-col"
          >
            <div className={`absolute top-0 right-0 w-32 h-32 ${c.color} opacity-10 blur-3xl rounded-full transition-opacity group-hover:opacity-30`}></div>
            
            <div className="relative z-10">
              <div className="flex justify-between items-start mb-6">
                <span className={`inline-block px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${c.color} text-white`}>
                  {c[lang].tag}
                </span>
                <span className="text-3xl filter drop-shadow-md group-hover:scale-125 transition-transform duration-500">
                  {c.icon}
                </span>
              </div>
              
              <h3 className="text-2xl font-black text-white mb-4 tracking-tighter leading-tight group-hover:text-blue-400 transition-colors">
                {c[lang].title}
              </h3>
              
              <p className="text-slate-400 text-sm font-bold mb-8 leading-relaxed">
                {c[lang].desc}
              </p>

              <div className="mt-4 flex flex-col items-center">
                 <span className="text-[9px] font-black text-slate-600 uppercase tracking-widest animate-pulse">
                   {ui.guideHint}
                 </span>
              </div>
            </div>
          </div>
        ))}
      </div>

      {/* Modal Overlay */}
      {selectedCourse && (
        <div className="fixed inset-0 z-[500] flex items-center justify-center p-4 md:p-12 animate-in fade-in duration-300">
          <div 
            className="absolute inset-0 bg-slate-900/80 backdrop-blur-2xl"
            onClick={() => setSelectedIdx(null)}
          ></div>
          
          <div className="relative w-full max-w-4xl bg-white rounded-[40px] md:rounded-[60px] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-500">
            {/* Modal Header Decoration */}
            <div className={`h-40 md:h-60 ${selectedCourse.color} flex items-center justify-center relative`}>
               <span className="text-7xl md:text-9xl filter drop-shadow-2xl animate-bounce">
                  {selectedCourse.icon}
               </span>
               <button 
                onClick={() => setSelectedIdx(null)}
                className="absolute top-6 right-6 md:top-10 md:right-10 w-10 h-10 md:w-14 md:h-14 bg-black/10 hover:bg-black/30 text-white rounded-full flex items-center justify-center transition-all backdrop-blur-md border border-white/20"
               >
                 <svg className="w-5 h-5 md:w-7 md:h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={3} d="M6 18L18 6M6 6l12 12"/></svg>
               </button>
            </div>

            {/* Modal Body */}
            <div className="p-8 md:p-14 lg:p-16 max-h-[70vh] overflow-y-auto custom-scrollbar">
              <div className="mb-12">
                <span className={`inline-block px-4 py-1.5 rounded-full text-[10px] md:text-[12px] font-black uppercase tracking-[0.2em] mb-4 ${selectedCourse.color} text-white`}>
                  {selectedCourse[lang].tag}
                </span>
                <h2 className="text-4xl md:text-6xl font-black text-slate-900 tracking-tighter leading-tight break-keep">
                  {selectedCourse[lang].title}
                </h2>
              </div>

              <div className="grid grid-cols-1 lg:grid-cols-5 gap-12 lg:gap-16">
                {/* Left: Spots List */}
                <div className="lg:col-span-3 space-y-10">
                  <h4 className="text-[11px] font-black text-slate-400 uppercase tracking-widest border-b border-slate-100 pb-3 flex items-center gap-2">
                    {ui.spots}
                  </h4>
                  <div className="space-y-8">
                    {selectedCourse[lang].spots.map((spot, idx) => (
                      <div key={idx} className="group/item flex gap-6">
                        <div className={`w-10 h-10 rounded-2xl ${selectedCourse.color} text-white flex items-center justify-center font-black shrink-0 shadow-lg`}>
                          {idx + 1}
                        </div>
                        <div>
                          <a 
                            href={getGoogleMapUrl(spot.name)} 
                            target="_blank" 
                            rel="noreferrer"
                            className="inline-flex items-center gap-2 text-xl md:text-2xl font-black text-slate-900 mb-2 group-hover/item:text-blue-600 transition-all border-b-2 border-slate-100 hover:border-blue-600"
                          >
                            {spot.name}
                            <svg className="w-4 h-4 text-slate-300 group-hover/item:text-blue-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={3} d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
                            </svg>
                          </a>
                          <p className="text-sm md:text-base text-slate-500 font-bold leading-relaxed break-keep">
                            {spot.desc}
                          </p>
                        </div>
                      </div>
                    ))}
                  </div>
                </div>

                {/* Right: Pro Tips & Transit */}
                <div className="lg:col-span-2 space-y-10">
                  <div className="bg-slate-50 p-8 md:p-10 rounded-[40px] border border-slate-100 shadow-inner relative overflow-hidden">
                    <div className="absolute top-0 right-0 text-6xl opacity-5 translate-x-4 -translate-y-4">âš“</div>
                    <h4 className="text-[11px] font-black text-blue-600 uppercase tracking-widest mb-4">
                      {ui.proTip}
                    </h4>
                    <p className="text-[15px] md:text-[17px] text-slate-700 font-bold leading-relaxed break-keep">
                       {selectedCourse[lang].proTip}
                    </p>
                  </div>

                  <div className="grid grid-cols-1 gap-5">
                    <div className="flex items-center gap-5 p-6 bg-white border border-slate-100 rounded-[24px] shadow-sm hover:border-blue-200 transition-colors">
                       <div className="w-12 h-12 rounded-2xl bg-blue-50 flex items-center justify-center text-blue-600 shrink-0">
                          <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2.5} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                       </div>
                       <div>
                          <span className="text-[10px] font-black text-slate-400 uppercase block mb-1">{ui.duration}</span>
                          <span className="text-[15px] md:text-[17px] font-black text-slate-900">{selectedCourse[lang].duration}</span>
                       </div>
                    </div>
                    <div className="flex items-center gap-5 p-6 bg-white border border-slate-100 rounded-[24px] shadow-sm hover:border-emerald-200 transition-colors">
                       <div className="w-12 h-12 rounded-2xl bg-emerald-50 flex items-center justify-center text-emerald-600 shrink-0">
                          <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2.5} d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2.5} d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
                       </div>
                       <div>
                          <span className="text-[10px] font-black text-slate-400 uppercase block mb-1">{ui.transport}</span>
                          <span className="text-[15px] md:text-[17px] font-black text-slate-900">{selectedCourse[lang].transport}</span>
                       </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div className="p-10 border-t border-slate-50 bg-slate-50/50 flex justify-center">
              <button 
                onClick={() => setSelectedIdx(null)}
                className="px-16 py-5 bg-slate-900 text-white rounded-full text-[12px] md:text-[14px] font-black uppercase tracking-[0.4em] hover:bg-blue-600 transition-all shadow-2xl active:scale-95"
              >
                {ui.close}
              </button>
            </div>
          </div>
        </div>
      )}
    </div>
  );
};

export default CourseSection;

import React, { useState, useEffect } from 'react';
import { DistrictData, Language } from '../types';

interface DistrictDetailProps {
  data: DistrictData;
  sources: Array<{ title: string; uri: string }>;
  lang: Language;
  onBack: () => void;
}

const DistrictDetail: React.FC<DistrictDetailProps> = ({ data, sources, lang, onBack }) => {
  const [copiedId, setCopiedId] = useState<string | null>(null);

  useEffect(() => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }, []);

  const ui = {
    back: lang === 'ko' ? 'ì§€ë„ë¡œ ëŒì•„ê°€ê¸°' : 'Back to Map',
    michelin: lang === 'ko' ? 'ë¯¸ìŠë­ ê°€ì´ë“œ ë¶€ì‚°' : 'MICHELIN GUIDE BUSAN',
    landmark: lang === 'ko' ? 'ë†“ì¹˜ë©´ ì•ˆ ë  ëŒ€í‘œ ëª…ì†Œ' : 'Top Essential Landmarks',
    eats: lang === 'ko' ? 'í˜„ì§€ ì¶”ì²œ ë§›ì§‘' : 'Recommended Local Eats',
    copy: lang === 'ko' ? 'ì£¼ì†Œ ë³µì‚¬' : 'Copy Addr.',
    copied: lang === 'ko' ? 'ë³µì‚¬ ì™„ë£Œ' : 'Copied',
    map: lang === 'ko' ? 'êµ¬ê¸€ ì§€ë„ ë³´ê¸°' : 'Google Maps',
    photo: lang === 'ko' ? 'í˜„ì¥ ì´ë¯¸ì§€' : 'Photos',
    menu: lang === 'ko' ? 'ëŒ€í‘œ ë©”ë‰´' : 'Signature',
    pro: lang === 'ko' ? 'Real Point' : 'Real Point',
    tip: lang === 'ko' ? 'í˜„ì§€ íŒ' : 'Local Tip',
    foreigner: lang === 'ko' ? 'Tourist Friendly' : 'Tourist Friendly',
    reference: lang === 'ko' ? 'ì •ë³´ ì¶œì²˜' : 'Sources',
    addressLabel: lang === 'ko' ? 'ìœ„ì¹˜ ì •ë³´' : 'Location'
  };

  return (
    <div className="max-w-[1200px] mx-auto py-8 md:py-16 lg:py-20 px-6 md:px-12 lg:px-16 animate-in fade-in slide-in-from-bottom-8 duration-700 overflow-hidden relative">
      <button 
        onClick={onBack} 
        className="group mb-12 md:mb-16 flex items-center gap-4 text-slate-400 hover:text-blue-600 font-black text-[11px] md:text-[14px] uppercase tracking-[0.3em] transition-all"
      >
        <div className="w-10 h-10 md:w-12 md:h-12 rounded-full border border-slate-200 flex items-center justify-center group-hover:bg-blue-600 group-hover:text-white group-hover:border-blue-600 transition-all shadow-sm">
           <svg className="w-4 h-4 md:w-5 md:h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
             <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={4} d="M15 19l-7-7 7-7"/>
           </svg>
        </div>
        {ui.back}
      </button>

      <header className="mb-16 md:mb-24 lg:mb-32 relative">
        <h1 className="text-5xl md:text-7xl lg:text-[5.5rem] font-black text-slate-900 mb-6 md:mb-12 tracking-tighter leading-none break-keep overflow-wrap-anywhere">
           {data.name} ğŸŒŠ
        </h1>
        <div className="max-w-4xl border-l-[8px] md:border-l-[12px] border-blue-600 pl-6 md:pl-12 py-4 md:py-6 relative">
          <p className="text-xl md:text-3xl lg:text-[2.75rem] font-black text-slate-900 mb-4 md:mb-8 leading-tight tracking-tighter italic break-keep">
            "{data.motto}"
          </p>
          <p className="text-sm md:text-lg lg:text-xl text-slate-500 font-bold leading-relaxed tracking-tight break-keep max-w-3xl">
            {data.aiSummary}
          </p>
        </div>
      </header>

      {/* Michelin Section */}
      {data.michelin && data.michelin.length > 0 && (
        <section className="mb-20 md:mb-32 lg:mb-40 bg-[#8B2222] p-8 md:p-14 lg:p-16 rounded-[30px] md:rounded-[60px] relative overflow-hidden shadow-2xl">
          <div className="flex items-center gap-4 md:gap-8 mb-10 md:mb-16 relative z-10">
             <div className="w-12 h-12 md:w-16 md:h-16 bg-white rounded-xl md:rounded-2xl flex items-center justify-center text-[#8B2222] shadow-xl">
                <svg className="w-8 h-8 md:w-10 md:h-10" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>
             </div>
             <div>
                <h2 className="text-white text-[10px] md:text-[16px] font-black uppercase tracking-[0.4em] mb-1">{ui.michelin}</h2>
                <div className="h-1 w-20 md:w-32 bg-white/30 rounded-full"></div>
             </div>
          </div>
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8 relative z-10">
            {data.michelin.map((m, i) => (
              <div key={i} className="p-8 md:p-10 bg-white rounded-[32px] md:rounded-[48px] flex flex-col shadow-xl transition-all hover:scale-[1.02] group">
                <div className="flex justify-between items-start mb-6">
                  <div className={`px-4 py-1 text-[9px] md:text-[11px] font-black rounded-full uppercase tracking-widest ${m.type.includes('Star') ? 'bg-[#8B2222] text-white' : 'bg-slate-900 text-white'}`}>
                    {m.type}
                  </div>
                  <a href={m.photoSearchUrl} target="_blank" rel="noreferrer" className="w-10 h-10 rounded-full bg-slate-50 flex items-center justify-center text-slate-400 hover:text-[#8B2222] transition-all border border-slate-100">
                     <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2 2 2 0 002 2z"/></svg>
                  </a>
                </div>
                <h3 className="text-2xl md:text-3xl font-black text-slate-900 mb-4 tracking-tighter leading-tight break-keep">{m.name}</h3>
                <p className="text-sm md:text-base text-slate-500 font-bold mb-8 flex-grow leading-relaxed italic break-keep">"{m.description}"</p>
                
                {m.foreignerInfo && (
                  <div className="mb-6 relative p-5 bg-slate-900 rounded-[24px] text-white shadow-lg border border-slate-800">
                    <span className="text-[8px] md:text-[10px] font-black uppercase tracking-[0.2em] bg-white/10 px-2 py-0.5 rounded-md text-slate-300 block mb-2 w-fit">{ui.foreigner}</span>
                    <p className="text-[13px] md:text-[15px] font-black leading-snug break-keep text-slate-100">{m.foreignerInfo}</p>
                  </div>
                )}

                <div className="mb-6 pt-6 border-t border-slate-100">
                   <p className="text-[9px] md:text-[11px] font-black text-slate-300 uppercase mb-2">{ui.menu}</p>
                   <p className="text-lg md:text-xl font-black text-slate-900 uppercase tracking-tight break-keep">{m.signature}</p>
                </div>

                <div className="mt-auto pt-6 border-t border-slate-50 flex flex-col gap-4">
                  <div>
                    <span className="text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1 block">{ui.addressLabel}</span>
                    <p className="text-[13px] md:text-[15px] font-bold text-slate-600 leading-tight break-keep">{m.address}</p>
                  </div>
                  <div className="grid grid-cols-2 gap-3">
                    <a href={m.mapUrl} target="_blank" rel="noreferrer" className="py-4 bg-[#8B2222] text-white rounded-[20px] text-[10px] font-black uppercase tracking-widest hover:bg-slate-900 transition-all text-center">
                      {ui.map}
                    </a>
                    <button 
                      onClick={() => {
                        navigator.clipboard.writeText(m.address);
                        setCopiedId(`michelin-${i}`);
                        setTimeout(() => setCopiedId(null), 2000);
                      }}
                      className="py-4 bg-slate-900 text-white rounded-[20px] text-[10px] font-black uppercase tracking-widest hover:bg-[#8B2222] transition-all text-center"
                    >
                      {copiedId === `michelin-${i}` ? ui.copied : ui.copy}
                    </button>
                  </div>
                </div>
              </div>
            ))}
          </div>
        </section>
      )}

      {[ 
        {title: ui.landmark, items: data.landmarks, color: 'blue', bg: 'bg-blue-50/20', border: 'border-blue-100', icon: 'âš“'}, 
        {title: ui.eats, items: data.foods, color: 'emerald', bg: 'bg-emerald-50/20', border: 'border-emerald-100', icon: 'â›µ'} 
      ].map((sec, idx) => (
        <section key={idx} className={`mb-20 md:mb-32 p-8 md:p-14 lg:p-16 rounded-[30px] md:rounded-[60px] border ${sec.border} ${sec.bg}`}>
          <div className="flex items-center gap-6 mb-12 md:mb-16">
             <h2 className={`text-[11px] md:text-[16px] font-black text-${sec.color}-600 uppercase tracking-[0.4em] md:tracking-[0.5em] whitespace-nowrap`}>
              {sec.icon} {sec.title}
             </h2>
             <div className={`h-px w-full bg-${sec.color}-200`}></div>
          </div>
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
            {sec.items.map((item, i) => (
              <div key={i} className="bg-white p-8 md:p-10 rounded-[32px] md:rounded-[48px] border border-slate-100 shadow-sm flex flex-col transition-all hover:shadow-2xl group">
                <div className="flex justify-between items-start mb-8">
                  <h3 className="text-2xl md:text-3xl font-black text-slate-900 tracking-tighter leading-tight pr-4 group-hover:text-blue-600 transition-colors break-keep">
                    {item.name}
                  </h3>
                  <a href={item.photoSearchUrl} target="_blank" rel="noreferrer" className="w-10 h-10 md:w-12 md:h-12 rounded-full bg-slate-50 flex items-center justify-center text-slate-400 hover:text-blue-600 transition-all border border-slate-100 shrink-0">
                    <svg className="w-5 h-5 md:w-7 md:h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2.5} d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2 2 2 0 002 2z"/></svg>
                  </a>
                </div>
                
                <p className="text-sm md:text-base text-slate-500 font-bold leading-relaxed mb-10 flex-grow tracking-tight break-keep">
                  {item.description}
                </p>

                <div className="space-y-4 mb-10">
                  <div className={`relative p-6 bg-${sec.color}-600 rounded-[24px] md:rounded-[32px] text-white shadow-lg`}>
                    <span className="text-[9px] md:text-[11px] font-black uppercase tracking-[0.2em] bg-white/20 px-2 py-0.5 rounded-md block mb-2 w-fit">{ui.pro}</span>
                    <p className="font-black text-lg md:text-xl leading-tight tracking-tight break-keep">{item.pos}</p>
                  </div>

                  {item.foreignerInfo && (
                    <div className="relative p-6 bg-slate-900 rounded-[24px] md:rounded-[32px] text-white shadow-lg border border-slate-800">
                      <span className="text-[9px] md:text-[11px] font-black uppercase tracking-[0.2em] bg-white/10 px-2 py-0.5 rounded-md text-slate-300 block mb-2 w-fit">{ui.foreigner}</span>
                      <p className="font-black text-base md:text-lg leading-snug tracking-tight break-keep text-slate-100">{item.foreignerInfo}</p>
                    </div>
                  )}
                  
                  <div className="p-6 bg-slate-50 rounded-[24px] md:rounded-[32px] border border-slate-200">
                    <span className="text-[9px] md:text-[11px] font-black uppercase tracking-[0.2em] text-slate-400 block mb-2">{ui.tip}</span>
                    <p className="font-bold text-sm md:text-base leading-snug text-slate-800 tracking-tight break-keep">{item.neg}</p>
                  </div>
                </div>

                <div className="mt-auto pt-8 border-t border-slate-50 flex flex-col gap-6">
                  <div>
                    <span className="text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1 block">{ui.addressLabel}</span>
                    <p className="text-[13px] md:text-[15px] font-bold text-slate-600 leading-tight break-keep">{item.address}</p>
                  </div>
                  <div className="grid grid-cols-2 gap-4">
                    <a href={item.mapUrl} target="_blank" rel="noreferrer" className="py-4 bg-slate-100 text-slate-600 rounded-2xl text-[11px] font-black uppercase tracking-widest hover:bg-blue-600 hover:text-white transition-all text-center">
                      {ui.map}
                    </a>
                    <button 
                      onClick={() => {
                        navigator.clipboard.writeText(item.address);
                        setCopiedId(`${idx}-${i}`);
                        setTimeout(() => setCopiedId(null), 2000);
                      }}
                      className="py-4 bg-slate-900 text-white rounded-2xl text-[11px] font-black uppercase tracking-widest hover:bg-blue-600 transition-all text-center"
                    >
                      {copiedId === `${idx}-${i}` ? ui.copied : ui.copy}
                    </button>
                  </div>
                </div>
              </div>
            ))}
          </div>
        </section>
      ))}

      <footer className="pt-20 border-t border-slate-100 opacity-40 pb-20 text-center relative overflow-hidden">
         <div className="absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-blue-200 to-transparent"></div>
         <h4 className="text-[10px] md:text-[13px] font-black text-slate-400 uppercase tracking-[0.6em] mb-12">{ui.reference}</h4>
         <div className="flex flex-wrap gap-x-10 gap-y-6 justify-center px-4">
           {sources.map((s, i) => (
             <a key={i} href={s.uri} target="_blank" rel="noreferrer" className="text-[12px] md:text-[15px] font-black uppercase tracking-widest hover:text-blue-600 transition-all underline decoration-slate-200 underline-offset-[12px] decoration-2">{s.title}</a>
           ))}
         </div>
      </footer>
    </div>
  );
};

export default DistrictDetail;

import React from 'react';
import { Language } from '../types';

interface ExhibitionSectionProps {
  lang: Language;
}

const EVENTS = [
  {
    ko: { 
      title: 'ë¶€ì‚° ì‹œë¦½ ë¯¸ìˆ ê´€ ì†Œì¥í’ˆ ê¸°íšì „', 
      place: 'ë¶€ì‚°ì‹œë¦½ë¯¸ìˆ ê´€ (BMA)', 
      type: 'ë¯¸ìˆ  ì „ì‹œ',
      desc: 'ë¶€ì‚°ì˜ ê·¼í˜„ëŒ€ ë¯¸ìˆ ì‚¬ë¥¼ ê´€í†µí•˜ëŠ” í•µì‹¬ ì†Œì¥í’ˆì„ í†µí•´ ì§€ì—­ ì˜ˆìˆ ì˜ ê¹Šì´ ìˆëŠ” ì„œì‚¬ë¥¼ íƒêµ¬í•©ë‹ˆë‹¤.'
    },
    en: { 
      title: 'BMA Collection Special Exhibit', 
      place: 'Busan Museum of Art', 
      type: 'Art Exhibit',
      desc: 'Exploring deep narratives of local art through core collections that define Busan\'s modern art history.'
    },
    tag: 'Art',
    color: 'bg-indigo-600',
    url: 'https://art.busan.go.kr/'
  },
  {
    ko: { 
      title: 'F1963 í˜„ëŒ€ ë¯¸ìˆ  ë©”ê°€ í”„ë¡œì íŠ¸', 
      place: 'F1963 ì„ì²œí™€', 
      type: 'ìœµë³µí•© ì „ì‹œ',
      desc: 'ì‚°ì—… ì‹œì„¤ì—ì„œ ë¬¸í™” ê³µê°„ìœ¼ë¡œ íƒˆë°”ê¿ˆí•œ ë…íŠ¹í•œ ì•„ìš°ë¼ ì†ì—ì„œ ì‹¤í—˜ì ì¸ í˜„ëŒ€ ì˜ˆìˆ ê°€ë“¤ì˜ ì‘í’ˆì„ ë§Œë‚©ë‹ˆë‹¤.'
    },
    en: { 
      title: 'F1963 Mega Art Project', 
      place: 'F1963 Cultural Complex', 
      type: 'Modern Art',
      desc: 'Experience experimental works by contemporary artists within the unique aura of a renovated wire factory.'
    },
    tag: 'Culture',
    color: 'bg-rose-600',
    url: 'http://www.f1963.org/'
  },
  {
    ko: { 
      title: 'ë¶€ì‚° ë¬¸í™” íšŒê´€ ê¸°íš ì—°ì£¼íšŒ', 
      place: 'ë¶€ì‚°ë¬¸í™”íšŒê´€ ëŒ€ê·¹ì¥', 
      type: 'í´ë˜ì‹ ê³µì—°',
      desc: 'ì„¸ê³„ì ì¸ ì§€íœ˜ìì™€ í˜‘ì—°ìë“¤ì´ ì„ ì‚¬í•˜ëŠ” ì›…ì¥í•˜ê³  ê²©ì¡° ë†’ì€ ì •í†µ í´ë˜ì‹ ì„ ìœ¨ì„ ê²½í—˜í•˜ì„¸ìš”.'
    },
    en: { 
      title: 'Busan Cultural Concert Series', 
      place: 'Busan Cultural Center', 
      type: 'Classic',
      desc: 'Experience grand and sophisticated classical melodies presented by world-class conductors and soloists.'
    },
    tag: 'Music',
    color: 'bg-amber-600',
    url: 'https://www.bscc.or.kr/'
  }
];

const ExhibitionSection: React.FC<ExhibitionSectionProps> = ({ lang }) => {
  const title = lang === 'ko' ? 'ì§€ê¸ˆ ë¶€ì‚°ì˜ ë¬¸í™”' : 'Busan Cultural Now';

  return (
    <div className="max-w-5xl mx-auto mb-40 px-4">
      <div className="flex items-center gap-6 mb-16">
        <h2 className="text-[11px] font-black text-slate-400 uppercase tracking-[0.5em] whitespace-nowrap">
          {title}
        </h2>
        <div className="h-px w-full bg-slate-100"></div>
      </div>
      
      <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
        {EVENTS.map((e, i) => (
          <a 
            key={i}
            href={e.url}
            target="_blank"
            rel="noreferrer"
            className="group p-10 bg-white border border-slate-100 rounded-[50px] hover:border-blue-600 hover:shadow-3xl hover:-translate-y-2 transition-all duration-700 flex flex-col"
          >
            <div className="flex items-center gap-3 mb-8">
              <span className={`px-3 py-1.5 ${e.color} text-white text-[9px] font-black rounded-full uppercase tracking-widest`}>
                {e.tag}
              </span>
              <span className="text-[10px] font-black text-slate-300 uppercase tracking-widest">
                {e[lang].type}
              </span>
            </div>
            <h3 className="text-2xl font-black text-slate-900 mb-4 tracking-tight group-hover:text-blue-600 transition-colors leading-tight">
              {e[lang].title}
            </h3>
            <p className="text-[14px] font-bold text-slate-400 leading-relaxed mb-10 flex-grow">
              {e[lang].desc}
            </p>
            <div className="pt-8 border-t border-slate-50 flex items-center justify-between">
              <span className="text-[12px] font-black text-slate-900">{e[lang].place}</span>
              <div className="w-8 h-8 rounded-full bg-slate-50 group-hover:bg-blue-600 group-hover:text-white flex items-center justify-center transition-all">
                <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={3} d="M14 5l7 7-7 7"/></svg>
              </div>
            </div>
          </a>
        ))}
      </div>
    </div>
  );
};

export default ExhibitionSection;

import React from 'react';
import { Language } from '../types';

interface FestivalSectionProps {
  lang: Language;
}

const FESTIVALS = [
  {
    season: { ko: 'ë´„ (Spring)', en: 'Spring' },
    items: [
      { ko: 'ë‚™ë™ê°• ìœ ì±„ê½ƒ ì¶•ì œ', en: 'Nakdong River Canola Festival', month: '4', desc: { ko: 'êµ­ë‚´ ìµœëŒ€ ê·œëª¨ì˜ ë…¸ë€ ìœ ì±„ê½ƒ ë‹¨ì§€ì—ì„œ ì¦ê¸°ëŠ” ë´„ë‚˜ë“¤ì´', en: 'Enjoy spring at the nation\'s largest yellow canola field.' } },
      { ko: 'ë¶€ì‚°í•­ ì¶•ì œ', en: 'Busan Port Festival', month: '5', desc: { ko: 'ì„¸ê³„ 5ëŒ€ í•­ë§Œì¸ ë¶€ì‚°í•­ì„ ë°°ê²½ìœ¼ë¡œ ì—´ë¦¬ëŠ” í•´ì–‘ ë¬¸í™” ì¶•ì œ', en: 'A maritime festival at the world-class Busan Port.' } }
    ]
  },
  {
    season: { ko: 'ì—¬ë¦„ (Summer)', en: 'Summer' },
    items: [
      { ko: 'ë¶€ì‚° ë°”ë‹¤ ì¶•ì œ', en: 'Busan Sea Festival', month: '8', desc: { ko: 'í•´ìš´ëŒ€ì™€ ê´‘ì•ˆë¦¬ ë“± 5ê°œ í•´ìˆ˜ìš•ì¥ì—ì„œ í¼ì³ì§€ëŠ” ì‹œì›í•œ íŒŒí‹°', en: 'Cool summer parties across Busan\'s major beaches.' } },
      { ko: 'ë¶€ì‚° êµ­ì œ ë¡ í˜ìŠ¤í‹°ë²Œ', en: 'Busan Intl Rock Festival', month: '7-8', desc: { ko: 'ì‚¼ë½ìƒíƒœê³µì›ì—ì„œ í¼ì³ì§€ëŠ” êµ­ë‚´ ìµœì¥ìˆ˜ ë¡ ìŒì•… ì¶•ì œ', en: 'Korea\'s longest-running rock festival at Samnak Park.' } }
    ]
  },
  {
    season: { ko: 'ê°€ì„ (Autumn)', en: 'Autumn' },
    items: [
      { ko: 'ë¶€ì‚° êµ­ì œ ì˜í™”ì œ (BIFF)', en: 'Busan Intl Film Festival', month: '10', desc: { ko: 'ì•„ì‹œì•„ë¥¼ ë„˜ì–´ ì„¸ê³„ê°€ ì£¼ëª©í•˜ëŠ” ì˜í™”ì¸ë“¤ì˜ ê±°ëŒ€í•œ ì¶•ì œ', en: 'A world-renowned film festival attracting global stars.' } },
      { ko: 'ë¶€ì‚° ë¶ˆê½ƒ ì¶•ì œ', en: 'Busan Fireworks Festival', month: '11', desc: { ko: 'ê´‘ì•ˆë¦¬ ë°¤í•˜ëŠ˜ì„ í™”ë ¤í•˜ê²Œ ìˆ˜ë†“ëŠ” ì´ˆëŒ€í˜• ë©€í‹°ë¯¸ë””ì–´ ë¶ˆê½ƒì‡¼', en: 'A spectacular multimedia fireworks show over Gwangalli.' } },
      { ko: 'ìê°ˆì¹˜ ì¶•ì œ', en: 'Jagalchi Festival', month: '10', desc: { ko: 'ì˜¤ì´ì†Œ! ë³´ì´ì†Œ! ì‚¬ì´ì†Œ! í•œêµ­ ìµœëŒ€ ìˆ˜ì‚°ì‹œì¥ì˜ ì •ê²¨ìš´ ë§›', en: 'The unique taste and culture of Korea\'s largest fish market.' } }
    ]
  },
  {
    season: { ko: 'ê²¨ìš¸ (Winter)', en: 'Winter' },
    items: [
      { ko: 'í•´ìš´ëŒ€ ë¹›ì¶•ì œ', en: 'Haeundae Light Festival', month: '12-1', desc: { ko: 'ê²¨ìš¸ ë°”ë‹¤ì™€ í™˜ìƒì ì¸ ë¹›ì˜ ë¬¼ê²°ì´ ë§Œë‚˜ëŠ” ë‚­ë§Œì ì¸ í˜„ì¥', en: 'Winter sea meets romantic waves of fantastic lights.' } },
      { ko: 'ë¶€ì‚° í¬ë¦¬ìŠ¤ë§ˆìŠ¤ íŠ¸ë¦¬ë¬¸í™”ì¶•ì œ', en: 'Busan Christmas Tree Festival', month: '12', desc: { ko: 'ë‚¨í¬ë™ ê±°ë¦¬ë¥¼ í™”ë ¤í•œ íŠ¸ë¦¬ì™€ ì¡°ëª…ìœ¼ë¡œ ì±„ìš°ëŠ” ì„±íƒ„ ì¶•ì œ', en: 'Nampo-dong street glows with magnificent Xmas lights.' } }
    ]
  }
];

const FestivalSection: React.FC<FestivalSectionProps> = ({ lang }) => {
  const title = lang === 'ko' ? 'ì‚¬ê³„ì ˆ ì¶•ì œì˜ ë„ì‹œ' : 'City of All-Season Festivals';
  
  return (
    <div className="max-w-6xl mx-auto mb-40 px-6 animate-in fade-in slide-in-from-bottom-8 duration-1000 delay-500">
      <div className="flex items-center gap-6 mb-16">
        <h2 className="text-[12px] font-black text-slate-900 uppercase tracking-[0.4em] whitespace-nowrap">
          {title}
        </h2>
        <div className="h-px w-full bg-slate-100"></div>
      </div>
      
      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12">
        {FESTIVALS.map((f, i) => (
          <div key={i} className="group">
            <h3 className="text-[10px] font-black text-blue-600 mb-8 uppercase tracking-widest border-b-2 border-blue-50 pb-3">
              {f.season[lang]}
            </h3>
            <ul className="space-y-8">
              {f.items.map((item, idx) => (
                <li key={idx} className="flex flex-col group/item">
                  <div className="flex justify-between items-baseline mb-2">
                    <span className="text-lg font-black text-slate-900 group-hover/item:text-blue-600 transition-colors tracking-tight">
                      {item[lang]}
                    </span>
                    <span className="text-[10px] font-black text-slate-300 uppercase shrink-0 ml-2">
                      {item.month}{lang === 'ko' ? 'ì›”' : ' MO.'}
                    </span>
                  </div>
                  <p className="text-[13px] font-bold text-slate-400 leading-relaxed">
                    {item.desc[lang]}
                  </p>
                </li>
              ))}
            </ul>
          </div>
        ))}
      </div>
    </div>
  );
};

export default FestivalSection;

import React, { useState, useEffect } from 'react';
import { Language } from '../types';

interface LoadingOverlayProps {
  districtName: string;
  lang: Language;
}

const TRIVIA_KO = [
  "ë¶€ì‚°ì€ í•œêµ­ì „ìŸ ë‹¹ì‹œ 1,023ì¼ ë™ì•ˆ ëŒ€í•œë¯¼êµ­ì˜ ì„ì‹œ ìˆ˜ë„ì˜€ìŠµë‹ˆë‹¤.",
  "ë°€ë©´ì€ ì „ìŸ ì¤‘ ë©”ë°€ ëŒ€ì‹  êµ¬í˜¸ ë¬¼ìì¸ ë°€ê°€ë£¨ë¡œ ë§Œë“  ë¶€ì‚°ë§Œì˜ ëƒ‰ë©´ì…ë‹ˆë‹¤.",
  "ë¼ì§€êµ­ë°¥ì€ í”¼ë€ ì‹œì ˆ ë°°ê³ í””ì„ ë‹¬ë˜ì£¼ë˜ ë¶€ì‚°ì˜ ëŒ€í‘œì ì¸ ì†Œìš¸í‘¸ë“œì…ë‹ˆë‹¤.",
  "ì˜ë„ëŒ€êµëŠ” í•œêµ­ ìœ ì¼ì˜ ë„ê°œêµë¡œ, í”¼ë€ë¯¼ë“¤ì´ ë‹¤ì‹œ ë§Œë‚˜ê¸°ë¡œ ì•½ì†í–ˆë˜ ì¥ì†Œì…ë‹ˆë‹¤.",
  "ê°ì²œë¬¸í™”ë§ˆì„ì€ ì‚°ìë½ì„ ë”°ë¼ ê³„ë‹¨ì‹ìœ¼ë¡œ ì§‘ë“¤ì´ ëŠ˜ì–´ì„  'í•œêµ­ì˜ ì‚°í† ë¦¬ë‹ˆ'ì…ë‹ˆë‹¤.",
  "ë³´ìˆ˜ë™ ì±…ë°©ê³¨ëª©ì€ ì „ìŸ ë‹¹ì‹œ í”¼ë€ë¯¼ë“¤ì´ ê°€ì ¸ì˜¨ ì±…ì„ íŒ”ë©° í˜•ì„±ëœ ìœ ì„œ ê¹Šì€ ê±°ë¦¬ì…ë‹ˆë‹¤.",
  "ì‚°ë³µë„ë¡œëŠ” ì‚°ë“±ì„±ì´ë¥¼ ë”°ë¼ êµ½ì´êµ½ì´ ì´ì–´ì§€ëŠ” ë¶€ì‚°ë§Œì˜ ë…íŠ¹í•œ í’ê²½ì…ë‹ˆë‹¤.",
  "ì†¡ë„ í•´ìˆ˜ìš•ì¥ì€ 1913ë…„ì— ê°œì¥í•œ ëŒ€í•œë¯¼êµ­ ìµœì´ˆì˜ ê³µì„¤ í•´ìˆ˜ìš•ì¥ì…ë‹ˆë‹¤.",
  "íƒœì¢…ëŒ€ëŠ” íŒŒë„ì˜ ì¹¨ì‹ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ê¸°ì•”ê´´ì„ì´ ì¥ê´€ì„ ì´ë£¨ëŠ” í•´ì•ˆ ì ˆë²½ì…ë‹ˆë‹¤.",
  "ë²”ì–´ì‚¬ëŠ” ì‹ ë¼ ì‹œëŒ€ì— ì°½ê±´ëœ ì²œë…„ ê³ ì°°ë¡œ ë¶€ì‚°ì„ ëŒ€í‘œí•˜ëŠ” ì‚¬ì°°ì…ë‹ˆë‹¤.",
  "ì˜¤ë¥™ë„ëŠ” ì¡°ì„ì— ë”°ë¼ ì„¬ì´ 5ê°œ ë˜ëŠ” 6ê°œë¡œ ë³´ì¸ë‹¤ê³  í•˜ì—¬ ë¶™ì—¬ì§„ ì´ë¦„ì…ë‹ˆë‹¤.",
  "ë¶€ì‚°í•­ì€ ì„¸ê³„ 10ëŒ€ ì»¨í…Œì´ë„ˆ í•­ë§Œ ì¤‘ í•˜ë‚˜ë¡œ í•œêµ­ ìˆ˜ì¶œì˜ ì‹¬ì¥ì…ë‹ˆë‹¤.",
  "ë‚™ë™ê°• í•˜êµ¬ëŠ” ì„¸ê³„ì ì¸ ì² ìƒˆ ë„ë˜ì§€ë¡œ ìƒíƒœì  ê°€ì¹˜ê°€ ë§¤ìš° ë†’ìŠµë‹ˆë‹¤.",
  "ê´‘ì•ˆëŒ€êµëŠ” ì´ ê¸¸ì´ 7.42kmë¡œ í•œêµ­ ìµœëŒ€ ê·œëª¨ì˜ í˜„ìˆ˜êµì…ë‹ˆë‹¤.",
  "ìê°ˆì¹˜ ì‹œì¥ì˜ ì´ë¦„ì€ ì˜›ë‚  ì´ê³³ì— 'ìê°ˆ'ì´ ë§ì•˜ë‹¤ê³  í•˜ì—¬ ë¶™ì—¬ì¡ŒìŠµë‹ˆë‹¤.",
  "ë¶€ì‚° êµ­ì œ ì˜í™”ì œ(BIFF)ëŠ” ì•„ì‹œì•„ ìµœëŒ€ ê·œëª¨ì˜ ì˜í™” ì¶•ì œì…ë‹ˆë‹¤.",
  "í•´ìš´ëŒ€ ì—˜ì‹œí‹°(LCT)ëŠ” 411m ë†’ì´ë¡œ í•œêµ­ì—ì„œ ë‘ ë²ˆì§¸ë¡œ ë†’ì€ ë§ˆì²œë£¨ì…ë‹ˆë‹¤.",
  "ë¶€ì‚°ì˜ ì‚¬íˆ¬ë¦¬ëŠ” 15ì„¸ê¸° ì¤‘ì„¸ í•œêµ­ì–´ì˜ ì„±ì¡° íŠ¹ì§•ì´ ì¼ë¶€ ë‚¨ì•„ìˆìŠµë‹ˆë‹¤.",
  "ëˆ„ë¦¬ë§ˆë£¨ APEC í•˜ìš°ìŠ¤ëŠ” 2005ë…„ ì œ13ì°¨ APEC ì •ìƒíšŒì˜ê°€ ì—´ë¦° ì—­ì‚¬ì ì¸ ì¥ì†Œì…ë‹ˆë‹¤.",
  "ê°€ë•ë„ ë“±ëŒ€ëŠ” 1909ë…„ì— ì ë“±ëœ ì„œêµ¬ì‹ ê·¼ëŒ€ ê±´ì¶•ë¬¼ë¡œ ì—­ì‚¬ì  ê°€ì¹˜ê°€ í½ë‹ˆë‹¤.",
  "ë¶€ì‚°ì˜ UNê¸°ë…ê³µì›ì€ ì„¸ê³„ì—ì„œ ìœ ì¼í•œ UNêµ° ë¬˜ì§€ì…ë‹ˆë‹¤.",
  "ê¸ˆì •ì‚°ì„±ì€ ì „ì²´ ê¸¸ì´ê°€ ì•½ 18.8kmì— ë‹¬í•˜ëŠ” í•œêµ­ì—ì„œ ê°€ì¥ í° ì‚°ì„±ì…ë‹ˆë‹¤.",
  "ë™ë˜íŒŒì „ì€ ì¡°ì„  ì‹œëŒ€ ë™ë˜ë¶€ì‚¬ê°€ ì„ê¸ˆë‹˜ê»˜ ì§„ìƒí•˜ë˜ ê·€í•œ ìŒì‹ì—ˆìŠµë‹ˆë‹¤.",
  "ë¶€ì‚° ë„ì‹œì² ë„ 1í˜¸ì„ ì€ 1985ë…„ ê°œí†µëœ ì§€ë°© ìµœì´ˆì˜ ì§€í•˜ì² ì…ë‹ˆë‹¤.",
  "ì´ˆëŸ‰ ì´ë°”êµ¬ê¸¸ì€ ì¼ì œê°•ì ê¸°ë¶€í„° ì „ìŸ ì´í›„ê¹Œì§€ ë¶€ì‚°ì˜ ê·¼í˜„ëŒ€ì‚¬ë¥¼ í’ˆê³  ìˆìŠµë‹ˆë‹¤.",
  "í°ì—¬ìš¸ë¬¸í™”ë§ˆì„ì€ ì˜í™” 'ë³€í˜¸ì¸'ì˜ ì´¬ì˜ì§€ë¡œ ìœ ëª…í•˜ë©° ì ˆë²½ ë ë°”ë‹¤ ì¡°ë§ì´ ì¼í’ˆì…ë‹ˆë‹¤.",
  "ë¶€ì‚° í•´ìš´ëŒ€êµ¬ëŠ” ì „êµ­ì—ì„œ ìœ ì¼í•˜ê²Œ ë‘ ê°œì˜ í•´ìˆ˜ìš•ì¥(í•´ìš´ëŒ€, ì†¡ì •)ì„ í’ˆê³  ìˆìŠµë‹ˆë‹¤.",
  "ë¶€ì‚°í•­ ëŒ€êµëŠ” ë°¤ì´ ë˜ë©´ ì‹œì‹œê°ê° ë³€í•˜ëŠ” í™”ë ¤í•œ ì¡°ëª…ìœ¼ë¡œ ì•¼ê²½ ëª…ì†Œê°€ ë˜ì—ˆìŠµë‹ˆë‹¤.",
  "í•´ë™ìš©ê¶ì‚¬ëŠ” ë°”ë‹·ê°€ ì ˆë²½ ìœ„ì— ì„¸ì›Œì§„ í•œêµ­ì—ì„œ ê°€ì¥ ì•„ë¦„ë‹¤ìš´ ì‚¬ì°° ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.",
  "ë¶€ì‚°ì—­ ì• ì°¨ì´ë‚˜íƒ€ìš´ì€ êµ¬í•œë§ ì²­ë‚˜ë¼ ì˜ì‚¬ê´€ì´ ìˆë˜ ìë¦¬ì—ì„œ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.",
  "ìš©ë‘ì‚°ê³µì›ì˜ ë¶€ì‚°íƒ€ì›ŒëŠ” 120m ë†’ì´ì—ì„œ ì›ë„ì‹¬ì˜ ì •ì·¨ë¥¼ í•œëˆˆì— ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤."
];

const TRIVIA_EN = [
  "Busan served as the provisional capital of South Korea for 1,023 days during the Korean War.",
  "Milmyeon is a unique Busan noodle dish created using flour instead of buckwheat during the war.",
  "Dwaeji-gukbap (pork soup) is Busan's soul food that comforted hungry refugees during the war.",
  "Yeongdo Bridge is Korea's only bascule bridge, once a landmark for reunited refugees.",
  "Gamcheon Culture Village is known as the 'Santorini of Korea' with colorful houses on hills.",
  "Bosu-dong Book Alley was formed by refugees selling books to survive during the war.",
  "Sanë³µ-ro (mountainside roads) offer unique winding landscapes along the city's ridges.",
  "Songdo Beach, opened in 1913, is the first public beach in South Korea.",
  "Taejongdae is a coastal cliff featuring spectacular rock formations carved by the waves.",
  "Beomeosa is a thousand-year-old temple founded during the Silla Dynasty.",
  "Oryukdo Islands are named so because they appear as 5 or 6 islands depending on the tide.",
  "Busan Port is one of the world's top 10 container ports and the heart of Korea's exports.",
  "The Nakdong River Estuary is a world-renowned habitat for migratory birds.",
  "Gwangandaegyo is the largest suspension bridge in Korea, stretching 7.42km.",
  "Jagalchi Market's name originates from 'Jagal' (gravel) that once covered the shore.",
  "Busan International Film Festival (BIFF) is the largest film festival in Asia.",
  "Haeundae LCT, at 411m, is the second-tallest building in South Korea.",
  "The Busan dialect retains some pitch accent characteristics of 15th-century Korean.",
  "Nurimaru APEC House is the historic site where the 13th APEC Summit was held in 2005.",
  "Gadeokdo Lighthouse is a Western-style modern building lit in 1909.",
  "The UN Memorial Cemetery in Busan is the only UN cemetery in the world.",
  "Geumjeongsanseong is the largest mountain fortress in Korea, about 18.8km long.",
  "Dongrae Pajeon was a precious dish presented to the king during the Joseon Dynasty.",
  "The Busan Metro Line 1, opened in 1985, was the first subway outside of Seoul.",
  "Choryang Ibagu-gil contains Busan's modern history from Japanese occupation to post-war.",
  "Huinnyeoul Culture Village is famous as the filming location for the movie 'The Attorney'.",
  "Haeundae-gu is the only district in Korea with two major beaches (Haeundae, Songjeong).",
  "Busan Harbor Bridge is a night landmark with colorful lights changing every moment.",
  "Haedong Yonggungsa is one of Korea's most beautiful temples, built on a coastal cliff.",
  "Chinatown in front of Busan Station began at the site of the former Qing Consulate.",
  "Busan Tower in Yongdusan Park offers a panoramic view of the old city from 120m high."
];

const LoadingOverlay: React.FC<LoadingOverlayProps> = ({ districtName, lang }) => {
  const [triviaIdx, setTriviaIdx] = useState(0);
  const trivia = lang === 'ko' ? TRIVIA_KO : TRIVIA_EN;

  useEffect(() => {
    setTriviaIdx(Math.floor(Math.random() * trivia.length));
    
    const triviaInterval = setInterval(() => {
      setTriviaIdx((prev) => (prev + 1) % trivia.length);
    }, 4500); 
    return () => clearInterval(triviaInterval);
  }, [trivia.length]);

  return (
    <div className="fixed inset-0 z-[150] bg-white flex flex-col items-center justify-center px-6 md:px-12 overflow-hidden">
      {/* Background Wave Animation */}
      <div className="absolute bottom-0 left-0 w-full opacity-5 pointer-events-none">
        <svg viewBox="0 0 1440 320" className="w-full h-auto translate-y-20">
          <path fill="#2563eb" fillOpacity="1" d="M0,64L48,96C96,128,192,192,288,181.3C384,171,480,85,576,80C672,75,768,149,864,186.7C960,224,1056,224,1152,197.3C1248,171,1344,117,1392,90.7L1440,64L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path>
        </svg>
      </div>

      <div className="w-full max-w-4xl flex flex-col items-center text-center relative z-10">
        
        {/* Spinner - Optimized Size */}
        <div className="relative w-20 h-20 md:w-32 md:h-32 mb-8 md:mb-12 flex items-center justify-center">
          <div className="absolute inset-0 rounded-full border-[5px] md:border-[8px] border-slate-50"></div>
          <div className="absolute inset-0 rounded-full border-[5px] md:border-[8px] border-blue-600 border-t-transparent animate-spin"></div>
          <div className="flex flex-col items-center">
            <span className="text-[10px] md:text-lg font-black text-slate-900 leading-none tracking-tighter uppercase">REAL</span>
            <span className="text-[6px] md:text-[9px] font-black text-blue-600 tracking-[0.2em] uppercase mt-1">Insight</span>
          </div>
        </div>

        <h2 className="text-3xl md:text-5xl lg:text-6xl font-black text-slate-900 mb-8 md:mb-12 tracking-tighter break-keep leading-tight drop-shadow-sm">
          {districtName} âš“
        </h2>
        
        {/* Trivia Box - Scaled Down for Balance */}
        <div className="w-full mb-8 md:mb-12 max-w-3xl px-4">
          <div className="mb-5 flex flex-col items-center gap-2">
            <p className="text-[9px] md:text-[12px] font-black text-blue-600 uppercase tracking-[0.3em] opacity-90">
              {lang === 'ko' ? 'í˜„ì§€ì˜ ìƒìƒí•œ ëª©ì†Œë¦¬ë¥¼ ìˆ˜ì§‘í•˜ëŠ” ì¤‘' : 'COLLECTING REAL LOCAL VOICES'}
            </p>
          </div>

          <div className="px-8 py-10 md:px-14 md:py-16 bg-slate-50 rounded-[24px] md:rounded-[40px] border border-slate-100 relative min-h-[140px] md:min-h-[200px] flex items-center justify-center shadow-inner overflow-hidden">
            <p key={`${lang}-${triviaIdx}`} className="text-slate-800 text-base md:text-xl lg:text-2xl font-bold leading-snug animate-in fade-in slide-in-from-bottom-2 duration-1000 break-keep max-w-[90%] px-2 z-10 relative">
              {trivia[triviaIdx]}
            </p>
            
            {/* Decorative corners - Subtle Scale */}
            <div className="absolute top-5 left-5 md:top-8 md:left-8 w-5 h-5 md:w-10 md:h-10 border-t-[2px] border-l-[2px] border-slate-200"></div>
            <div className="absolute bottom-5 right-5 md:bottom-8 md:right-8 w-5 h-5 md:w-10 md:h-10 border-b-[2px] border-r-[2px] border-slate-200"></div>
            
            {/* Watermark - Discrete Scale */}
            <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-slate-200/30 text-[5rem] md:text-[8rem] font-black pointer-events-none select-none z-0 opacity-10 uppercase">
               Busan
            </div>
          </div>
        </div>
        
        <div className="flex gap-3.5 items-center">
          <div className="w-1.5 h-1.5 md:w-2.5 md:h-2.5 rounded-full bg-blue-600 animate-bounce [animation-delay:-0.3s]"></div>
          <div className="w-1.5 h-1.5 md:w-2.5 md:h-2.5 rounded-full bg-blue-400 animate-bounce [animation-delay:-0.15s]"></div>
          <div className="w-1.5 h-1.5 md:w-2.5 md:h-2.5 rounded-full bg-blue-200 animate-bounce"></div>
        </div>
      </div>
    </div>
  );
};

export default LoadingOverlay;

import React from 'react';
import { Language } from '../types';

interface UsefulServicesProps {
  lang: Language;
}

const SERVICES = [
  {
    id: 'citytour',
    ko: { title: 'ë¶€ì‚° ì‹œí‹°íˆ¬ì–´', desc: 'ì£¼ìš” ëª…ì†Œë¥¼ ê°€ì¥ í¸ì•ˆí•˜ê²Œ ëŒì•„ë³´ëŠ” 2ì¸µ í…Œë§ˆ ë²„ìŠ¤', action: 'ì˜ˆì•½ ì‚¬ì´íŠ¸' },
    en: { title: 'City Tour Bus', desc: 'The most comfortable way to visit key spots via theme buses.', action: 'Official Site' },
    url: 'https://www.citytourbusan.com/',
    color: 'bg-blue-600'
  },
  {
    id: 'busanpass',
    ko: { title: 'ë¹„ì§“ ë¶€ì‚° íŒ¨ìŠ¤', desc: 'ì£¼ìš” ìœ ë£Œ ëª…ì†Œ ë¬´ë£Œ ì…ì¥ê³¼ êµí†µ ì¹´ë“œ í˜œíƒì˜ ì˜¬ì¸ì› íŒ¨ìŠ¤', action: 'íŒ¨ìŠ¤ êµ¬ë§¤' },
    en: { title: 'Visit Busan Pass', desc: 'All-in-one pass with free entry to major spots & transit.', action: 'Get Pass' },
    url: 'https://www.visitbusanpass.com/',
    color: 'bg-slate-900'
  },
  {
    id: 'dynamic',
    ko: { title: 'ë¹„ì§“ ë¶€ì‚° ê³µì‹', desc: 'ë¶€ì‚°ì‹œê°€ ìš´ì˜í•˜ëŠ” ê³µì‹ ë ¥ ìˆëŠ” ê³µì‹ ê´€ê´‘ í¬í„¸ ì„œë¹„ìŠ¤', action: 'ì •ë³´ í¬í„¸' },
    en: { title: 'Visit Busan Official', desc: 'The city\'s official, authoritative tourism info portal.', action: 'Explore Portal' },
    url: 'https://www.visitbusan.net/',
    color: 'bg-emerald-600'
  }
];

const UsefulServices: React.FC<UsefulServicesProps> = ({ lang }) => {
  const sectionTitle = lang === 'ko' ? 'ì—¬í–‰ í•„ìˆ˜ ìœ í‹¸ë¦¬í‹°' : 'Travel Essentials';

  return (
    <div className="max-w-5xl mx-auto mb-20 px-4 animate-in fade-in slide-in-from-bottom-4 duration-1000 delay-300">
      <div className="flex items-center gap-6 mb-12">
        <h2 className="text-[11px] font-black text-slate-400 uppercase tracking-[0.5em] whitespace-nowrap">
          {sectionTitle}
        </h2>
        <div className="h-px w-full bg-slate-100"></div>
      </div>
      
      <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
        {SERVICES.map((s) => (
          <a 
            key={s.id}
            href={s.url}
            target="_blank"
            rel="noreferrer"
            className="group block p-10 bg-white border border-slate-100 rounded-[50px] hover:shadow-4xl hover:shadow-slate-200/50 transition-all duration-700"
          >
            <div className={`w-12 h-12 ${s.color} rounded-2xl mb-8 flex items-center justify-center text-white transition-all group-hover:rotate-6 group-hover:scale-110 shadow-lg`}>
              <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2.5} d="M13 7l5 5m0 0l-5 5m5-5H6" />
              </svg>
            </div>
            <h3 className="text-2xl font-black text-slate-900 mb-3 tracking-tight group-hover:text-blue-600 transition-colors">
              {s[lang].title}
            </h3>
            <p className="text-sm font-bold text-slate-400 leading-relaxed mb-8">
              {s[lang].desc}
            </p>
            <div className="flex items-center gap-3">
               <span className="text-[11px] font-black uppercase tracking-widest text-slate-900 border-b-2 border-slate-900 pb-1 group-hover:text-blue-600 group-hover:border-blue-600 transition-all">
                 {s[lang].action}
               </span>
               <svg className="w-4 h-4 text-slate-300 group-hover:text-blue-600 group-hover:translate-x-1 transition-all" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={3} d="M9 5l7 7-7 7"/></svg>
            </div>
          </a>
        ))}
      </div>
    </div>
  );
};

export default UsefulServices;

import { MapDistrict } from './types';

export const BUSAN_DISTRICTS: MapDistrict[] = [
  { id: 'gangseogu', nameKo: 'ê°•ì„œêµ¬', nameEn: 'Gangseo', x: 80, y: 550, size: 85 },
  { id: 'bukgu', nameKo: 'ë¶êµ¬', nameEn: 'Buk-gu', x: 260, y: 250, size: 75 },
  { id: 'sasanggu', nameKo: 'ì‚¬ìƒêµ¬', nameEn: 'Sasang', x: 260, y: 480, size: 70 },
  { id: 'sahagu', nameKo: 'ì‚¬í•˜êµ¬', nameEn: 'Saha-gu', x: 220, y: 720, size: 75 },
  { id: 'geumjeong', nameKo: 'ê¸ˆì •êµ¬', nameEn: 'Geumjeong', x: 480, y: 120, size: 85 },
  { id: 'dongrae', nameKo: 'ë™ë˜êµ¬', nameEn: 'Dongrae', x: 480, y: 320, size: 75 },
  { id: 'yeonje', nameKo: 'ì—°ì œêµ¬', nameEn: 'Yeonje', x: 620, y: 400, size: 60 },
  { id: 'busanjingu', nameKo: 'ë¶€ì‚°ì§„êµ¬', nameEn: 'Busanjin', x: 420, y: 530, size: 85 },
  { id: 'suyeong', nameKo: 'ìˆ˜ì˜êµ¬', nameEn: 'Suyeong', x: 740, y: 520, size: 65 },
  { id: 'namgu', nameKo: 'ë‚¨êµ¬', nameEn: 'Nam-gu', x: 700, y: 720, size: 75 },
  { id: 'haeundae', nameKo: 'í•´ìš´ëŒ€êµ¬', nameEn: 'Haeundae', x: 880, y: 450, size: 95 },
  { id: 'gijang', nameKo: 'ê¸°ì¥êµ°', nameEn: 'Gijang', x: 920, y: 180, size: 105 },
  { id: 'donggu', nameKo: 'ë™êµ¬', nameEn: 'Dong-gu', x: 480, y: 680, size: 60 },
  { id: 'junggu', nameKo: 'ì¤‘êµ¬', nameEn: 'Jung-gu', x: 400, y: 800, size: 50 },
  { id: 'seogu', nameKo: 'ì„œêµ¬', nameEn: 'Seo-gu', x: 320, y: 880, size: 60 },
  { id: 'yeongdo', nameKo: 'ì˜ë„êµ¬', nameEn: 'Yeongdo', x: 550, y: 880, size: 70 }
];

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¶€ì‚°ì˜ ì¬ë°œê²¬ - ì‹¤ì „ ë¡œì»¬ ê°€ì´ë“œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css">
    <style>
        body { font-family: 'Pretendard', sans-serif; }
        .glass { background: rgba(255, 255, 255, 0.7); backdrop-filter: blur(10px); }
        @keyframes kenBurns {
            from { transform: scale(1); }
            to { transform: scale(1.1); }
        }
        .ken-burns { animation: kenBurns 10s infinite alternate linear; }
    </style>
<script type="importmap">
{
  "imports": {
    "react/": "https://esm.sh/react@^19.2.3/",
    "react": "https://esm.sh/react@^19.2.3",
    "@google/genai": "https://esm.sh/@google/genai@^1.38.0",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/"
  }
}
</script>
</head>
<body class="bg-slate-50 text-slate-900">
    <div id="root"></div>
</body>
</html>

import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';

const rootElement = document.getElementById('root');
if (!rootElement) {
  throw new Error("Could not find root element to mount to");
}

const root = ReactDOM.createRoot(rootElement);
root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);

  "name": "Copy of Busan Real Discovery",
  "description": "An interactive AI-powered guide to Busan's districts, featuring real-time insights from YouTube, Naver, and blogs using Gemini 3 and Google Search grounding.",
  "requestFramePermissions": [
    "geolocation"
  ]
}
import { GoogleGenAI, Type } from "@google/genai";
import { MultiLangData, Landmark, Food, MichelinRestaurant } from "../types";

export async function fetchDistrictInsight(districtName: string): Promise<MultiLangData> {
  const ai = new GoogleGenAI({ apiKey: process.env.API_KEY });
  
  const systemInstruction = `You are a "Busan Docent" providing travel reports under the brand "Busan Original".

  [CRITICAL: DATA INTEGRITY]
  - Especially for Haeundae-gu, ensure the JSON is complete. If many items exist, prioritize the most famous ones.
  - The "address" field MUST be a real physical address (e.g., "62, Gu-nam-ro, Haeundae-gu, Busan"), NOT a URL.

  [CRITICAL: MAP ACCURACY]
  - For Map URLs, always use this template to ensure South Korea location:
    https://www.google.com/maps/search/?api=1&query=[PlaceName]+${districtName}+Busan+South+Korea
  - Use the most official and specific names.`;

  const prompt = `Generate an authoritative "Busan Original" report for "${districtName}" district in both Korean and English.
  
  Content:
  - 5 Landmarks, 5 Eateries.
  - Official Michelin Guide Busan entries.
  - Return PURE JSON object only.

  JSON Schema:
  {
    "ko": {
      "name": "êµ¬ì—­ ì´ë¦„", "motto": "ìŠ¬ë¡œê±´", "aiSummary": "ìš”ì•½",
      "landmarks": [{"name": "ëª…ì†Œëª…", "description": "ì„¤ëª…", "pos": "ì¥ì ", "neg": "íŒ", "foreignerInfo": "ì™¸êµ­ì¸ì •ë³´", "address": "ì‹¤ì œì£¼ì†Œ"}],
      "foods": [{"name": "ì‹ë‹¹ëª…", "description": "ì„¤ëª…", "pos": "ì¥ì ", "neg": "íŒ", "foreignerInfo": "ì™¸êµ­ì¸ì •ë³´", "address": "ì‹¤ì œì£¼ì†Œ", "bestMenu": "ë©”ë‰´"}],
      "michelin": [{"name": "ì‹ë‹¹ëª…", "type": "ë“±ê¸‰", "description": "ì„¤ëª…", "foreignerInfo": "ì™¸êµ­ì¸ì •ë³´", "address": "ì‹¤ì œì£¼ì†Œ", "signature": "ë©”ë‰´"}]
    },
    "en": {
      "name": "District", "motto": "Slogan", "aiSummary": "Summary",
      "landmarks": [{"name": "Name", "description": "Desc", "pos": "Pro", "neg": "Tip", "foreignerInfo": "Info", "address": "Physical Address"}],
      "foods": [{"name": "Name", "description": "Desc", "pos": "Pro", "neg": "Tip", "foreignerInfo": "Info", "address": "Physical Address", "bestMenu": "Menu"}],
      "michelin": [{"name": "Name", "type": "Type", "description": "Desc", "foreignerInfo": "Info", "address": "Physical Address", "signature": "Menu"}]
    }
  }`;

  try {
    const response = await ai.models.generateContent({
      model: "gemini-3-flash-preview", 
      contents: prompt,
      config: {
        systemInstruction,
        tools: [{ googleSearch: {} }],
        responseMimeType: "application/json"
      }
    });

    let jsonText = response.text || '{}';
    jsonText = jsonText.replace(/```json|```/g, '').trim();
    
    const rawData = JSON.parse(jsonText);
    
    const processItems = (items: any[]) => {
      if (!items || !Array.isArray(items)) return [];
      return items.filter(item => item && (item.name || item.title)).map(item => {
        const name = item.name || item.title;
        // ë”ìš± ì •êµí•´ì§„ ê²€ìƒ‰ ì¿¼ë¦¬: ì¥ì†Œëª… + êµ¬ + ë¶€ì‚° + í•œêµ­
        const searchQuery = encodeURIComponent(`${name} ${districtName} Busan South Korea`);
        return {
          ...item,
          name: name,
          address: item.address && !item.address.startsWith('http') ? item.address : `${districtName}, Busan`,
          mapUrl: `https://www.google.com/maps/search/?api=1&query=${searchQuery}`,
          photoSearchUrl: `https://www.google.com/search?tbm=isch&q=${searchQuery}`
        };
      });
    };

    return {
      ko: {
        ...rawData.ko,
        name: rawData.ko?.name || districtName,
        landmarks: processItems(rawData.ko?.landmarks),
        foods: processItems(rawData.ko?.foods),
        michelin: processItems(rawData.ko?.michelin)
      },
      en: {
        ...rawData.en,
        name: rawData.en?.name || districtName,
        landmarks: processItems(rawData.en?.landmarks),
        foods: processItems(rawData.en?.foods),
        michelin: processItems(rawData.en?.michelin)
      },
      sources: (response.candidates?.[0]?.groundingMetadata?.groundingChunks || [])
        .filter((c: any) => c.web).map((c: any) => ({ title: c.web.title, uri: c.web.uri })).slice(0, 5)
    };
  } catch (error) {
    console.error("AI Fetching Error:", error);
    throw error;
  }
}

export interface Landmark {
  name: string;
  description: string;
  pos: string;
  neg: string;
  address: string;
  mapUrl: string;
  photoSearchUrl: string;
  foreignerInfo?: string; // ì±„ì‹ ì˜µì…˜, ì˜ì–´ ì•ˆë‚´ ë“± ì™¸êµ­ì¸ ëŒ€ìƒ ì •ë³´
}

export interface Food {
  name: string;
  description: string;
  pos: string;
  neg: string;
  address: string;
  mapUrl: string;
  photoSearchUrl: string;
  bestMenu: string;
  foreignerInfo?: string; // ì±„ì‹ ì˜µì…˜, ì˜ì–´ ë©”ë‰´íŒ ë“± ì™¸êµ­ì¸ ëŒ€ìƒ ì •ë³´
}

export interface MichelinRestaurant {
  name: string;
  type: 'Star' | 'Bib Gourmand' | 'Selected';
  description: string;
  address: string;
  signature: string;
  mapUrl: string;
  photoSearchUrl: string;
  foreignerInfo?: string;
}

export interface DistrictData {
  name: string;
  motto: string;
  aiSummary: string;
  landmarks: Landmark[];
  foods: Food[];
  michelin: MichelinRestaurant[];
}

export interface MultiLangData {
  ko: DistrictData;
  en: DistrictData;
  sources: Array<{ title: string; uri: string }>;
}

export interface MapDistrict {
  id: string;
  nameKo: string;
  nameEn: string;
  x: number;
  y: number;
  size: number;
}

export type Language = 'ko' | 'en';
